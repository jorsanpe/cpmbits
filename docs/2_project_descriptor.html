<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CPM Bits</title>
  <link rel="stylesheet" href="css/cpmbits.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="css/prism.css" rel="stylesheet">
  <link href="css/bulma-divider.min.css" rel="stylesheet">
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  <script src="js/prism.js"></script>
</head>

<body>

  <nav class="navbar has-shadow is-light" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://cpmbits.com">
                <img src="img/cpmbits-logo.png" height="28">
            </a>

            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
                data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbar-links" class="navbar-menu">
            <div class="navbar-start">
                
                <a class="navbar-item "
                    href="1_getting_started.html">
                    Documentation
                </a>
                
                <a class="navbar-item "
                    href="#">
                    Browse
                </a>
                
                <a class="navbar-item "
                    href="blog_cover.html">
                    Blog
                </a>
                
                <div class="navbar-item">
                    <a class="button is-light" href="https://github.com/jorsanpe/cpm" target="_blank">
                        <img src="img/GitHub-Mark-32px.png" height="28">
                    </a>
                </div>
            </div>

            <div class="navbar-end">
                <div class="navbar-item">
                    <div class="field has-addons">
                        <div class="control has-icons-left">
                            <input class="input" id="search_query" type="text" placeholder="Search bits">
                            <span class="icon is-small is-left">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                        <div class="control">
                            <a class="button is-primary">
                                Search
                            </a>
                        </div>
                    </div>
                </div>
                <div class="navbar-item">
                    <div class="buttons">
                        <a class="button" title="User registration only with inviation" href="registration_page.html">
                            <strong>Sign up</strong>
                        </a>
                        <a class="button is-light">
                            Log in
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

  <section class="section">
    <div class="container">
      <div class="columns">
        <div class="column is-one-fifth has-background-white-bis">
          <aside class="menu">
    <p class="menu-label">
        Documentation
    </p>
    <ul class="menu-list">
        
        <li><a href="1_getting_started.html" class="">
            1 Getting Started
        </a></li>
        
        <li><a href="2_project_descriptor.html" class="is-active">
            2 Project Descriptor
        </a></li>
        
        <li><a href="3_project_structure.html" class="">
            3 Project Structure
        </a></li>
        
        <li><a href="4_command_line.html" class="">
            4 Command Line
        </a></li>
        
        <li><a href="5_bit_development.html" class="">
            5 Bit Development
        </a></li>
        
    </ul>
</aside>
        </div>
        <div class="column content">
          <p>The project descriptor is a YAML file with the name <code>project.yaml</code> that contains the description of the different elements of the application. A folder containing this file with the proper schema will be identified as a CPM project.</p>
<h2 class="subtitle is-3" id="elements-of-the-project-descriptor">Elements of the project descriptor</h2>
<table>
<colgroup>
<col style="width: 51%"/>
<col style="width: 48%"/>
</colgroup>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>name: string</code></td>
<td>The project name field is a string identifying the project. The application will be compiled into a binary file with this name. The <code>name</code> should not contain any spaces.</td>
</tr>
<tr class="even">
<td><code>description: string</code></td>
<td>This field has currently no practical purpose other than allowing the user to include a larger description of the project.</td>
</tr>
<tr class="odd">
<td><code>version: string</code></td>
<td>This field is required when the current project is intended to be published in CPM Hub. The version will be used to publish the plugin accordingly. When not present, the <code>version</code> field defaults to <code>"0.1"</code>.</td>
</tr>
<tr class="even">
<td><code>packages: [object]</code></td>
<td>This section contains the list of packages of the project. A <code>package</code> in CPM is the root directory of a set of source files. For example, when declaring an <code>api</code> package, CPM will recursively search <code>*.c</code> and <code>*.cpp</code> source files in the directory with that name.</td>
</tr>
<tr class="odd">
<td><code>packages.{name}: object</code></td>
<td>Each package has to be declared in the <code>packages</code> section with the same name as its root folder.</td>
</tr>
<tr class="even">
<td><code>packages.{name}.cflags: [string]</code></td>
<td>Packages can be assigned specific compilation flags with the <code>cflags</code> property. This allows, among other things, mixing C99 and C++11 code in the same executable.</td>
</tr>
<tr class="odd">
<td><code>bits: object</code></td>
<td>This section is used to declare which <code>bits</code> the project depends on. The entries in the <code>bits</code> section will be used to access CPM Hub and download the declared version of each bit when updating the project.</td>
</tr>
<tr class="even">
<td><code>bits.{name}: string</code></td>
<td>Each declared bit is an entry in the <code>bits</code> object with the name of the bit as the key and the bit version as the value.</td>
</tr>
<tr class="odd">
<td><code>test_bits: object</code><br/><code>test_bits.{name}: string</code></td>
<td>The <code>test_bits</code> section is treated exactly the same as the <code>bits</code> section. The main difference is that, when installing a bit that has transitive dependencies, the <code>test_bits</code> won’t be followed.</td>
</tr>
<tr class="even">
<td><code>compile_flags: [string]</code></td>
<td>This property allows the user to configure the global compilation options. This flags will only apply to the project sources.</td>
</tr>
<tr class="odd">
<td><code>link_options: object</code></td>
<td>This property allows the user to define the link options of the binary.</td>
</tr>
<tr class="even">
<td><code>link_options.libraries: [string]</code></td>
<td>The libraries section contains a list of strings, each one describing a library that must be used during the final link process. This list translates into a CMake <code>target_link_libraries</code> option with the list expanded.</td>
</tr>
<tr class="odd">
<td><code>actions: object</code></td>
<td>The user can define project specific actions in this section.</td>
</tr>
<tr class="even">
<td><code>actions.{name}: string</code></td>
<td>Each key in the actions section is the action alias. The value is a string with the command to be executed for that action.</td>
</tr>
<tr class="odd">
<td><code>targets: object</code><br/><code>targets.{name}: object</code><br/><code>targets.{name}.image: string</code></td>
<td>The <code>targets</code> section is currently used to define a custom Docker image from which to build the application.</td>
</tr>
</tbody>
</table>
<h2 class="subtitle is-3" id="sample-file">Sample file</h2>
<pre><code class="language-yaml">name: 'PortalGunFirmware'
description: 'Project description'
version: '1.0'
packages:
    - api:
        cflags: ['-std=c++11']
    - domain:
    - infrastructure:
        cflags: ['-std=c++11']
compile_flags: ['-g']
bits:
    mongoose: '6.16'
    json: '3.7.3'
test_bits:
    cest: '1.0'
    fakeit: '2.0.5'
link_options:
    libraries: ['pthread']
actions:
    deploy: 'echo Deploy!'
targets:
    ubuntu:
        image: 'ubuntu:18.04'
</code></pre>

        </div>
    </div>
  </section>

  <footer class="footer">
    <div class="columns is-mobile">
        <div class="column is-offset-2">
            <div class="content has-text-centered">
                <p><strong>cpm</strong> by Jordi Sánchez.</p>
            </div>
        </div>
        <div class="column">
            <a href="https://bulma.io">
                <img src="https://bulma.io/images/made-with-bulma.png" alt="Made with Bulma" width="128" height="24">
            </a>
        </div>
    </div>
</footer>

</body>

</html>